From 8b389d5b3ddfd03800215c4a7d0ac9dc25ae5f08 Mon Sep 17 00:00:00 2001
From: Jason Zaman <jason@perfinion.com>
Date: Thu, 5 Nov 2020 15:16:43 -0800
Subject: [PATCH 6/7] Relax setup.py version requirements

---
 tensorflow/tools/pip_package/setup.py | 38 +++++++++++++--------------
 1 file changed, 19 insertions(+), 19 deletions(-)

diff --git a/tensorflow/tools/pip_package/setup.py b/tensorflow/tools/pip_package/setup.py
index 354657a7bfc..e660ca814b2 100644
--- a/tensorflow/tools/pip_package/setup.py
+++ b/tensorflow/tools/pip_package/setup.py
@@ -78,33 +78,33 @@ REQUIRED_PACKAGES = [
     # NOTE: As numpy has releases that break semver guarantees and several other
     # deps depend on numpy without an upper bound, we must install numpy before
     # everything else.
-    'numpy ~= 1.19.2',
+    'numpy',
     # Install other dependencies
-    'absl-py ~= 0.10',
-    'astunparse ~= 1.6.3',
-    'flatbuffers ~= 1.12.0',
-    'google_pasta ~= 0.2',
-    'h5py ~= 3.1.0',
-    'keras_preprocessing ~= 1.1.2',
-    'opt_einsum ~= 3.3.0',
-    'protobuf >= 3.9.2',
-    'six ~= 1.15.0',
-    'termcolor ~= 1.1.0',
-    'typing_extensions ~= 3.7.4',
-    'wheel ~= 0.35',
-    'wrapt ~= 1.12.1',
+    'absl-py',
+    'astunparse',
+    'flatbuffers',
+    'google_pasta',
+    'h5py',
+    'keras_preprocessing',
+    'opt_einsum',
+    'protobuf',
+    'six',
+    'termcolor',
+    'typing_extensions',
+    'wheel',
+    'wrapt',
     # These packages need to be pinned exactly as newer versions are
     # incompatible with the rest of the ecosystem
-    'gast >= 0.4.0',
+    'gast',
     # TensorFlow ecosystem packages that TF exposes API for
     # These need to be in sync with the existing TF version
     # They are updated during the release process
     # When updating these, please also update the nightly versions below
-    'tensorboard ~= 2.5',
-    'tensorflow-estimator >= 2.5.0 , < 2.6.0',
+    'tensorboard',
+    'tensorflow-estimator',
     # TODO(scottzhu): OSS keras hasn't been formally released yet.
     # Use keras-nightly at the moment.
-    'keras-nightly ~= 2.5.0.dev',
+    #'keras-nightly ~= 2.5.0.dev',
 ]
 
 
@@ -127,7 +127,7 @@ if 'tf_nightly' in project_name:
 # BoringSSL support.
 # See https://github.com/tensorflow/tensorflow/issues/17882.
 if sys.byteorder == 'little':
-  REQUIRED_PACKAGES.append('grpcio ~= 1.34.0')
+  REQUIRED_PACKAGES.append('grpcio')
 
 
 # Packages which are only needed for testing code.
-- 
2.31.1

